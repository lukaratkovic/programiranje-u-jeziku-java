-- H2 2.0.206;
;             
CREATE USER IF NOT EXISTS "ADMIN" SALT '5ff3bb845c2654ce' HASH '7f41e27ad732564549af3d90cfa5b6e4e7c96868ce8faef61fbc8e80df16bd61' ADMIN;      
CREATE CACHED TABLE "PUBLIC"."CATEGORY"(
    "ID" BIGINT GENERATED ALWAYS AS IDENTITY(START WITH 1 RESTART WITH 33) NOT NULL,
    "NAME" CHARACTER VARYING(25) NOT NULL,
    "DESCRIPTION" CHARACTER VARYING(250) NOT NULL
);             
ALTER TABLE "PUBLIC"."CATEGORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");     
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORY;
INSERT INTO "PUBLIC"."CATEGORY"("ID", "NAME", "DESCRIPTION") OVERRIDING SYSTEM VALUE VALUES
(1, 'Food', 'Category of edible items'),
(2, 'Technical equipment', 'In this category you can find all items from technical area.'),
(3, 'Literature', 'In this category you can find books, comics, etc.');   
CREATE CACHED TABLE "PUBLIC"."ITEM"(
    "ID" BIGINT GENERATED ALWAYS AS IDENTITY(START WITH 1 RESTART WITH 33) NOT NULL,
    "CATEGORY_ID" BIGINT NOT NULL,
    "NAME" CHARACTER VARYING(25) NOT NULL,
    "WIDTH" DECIMAL(10, 2) NOT NULL,
    "HEIGHT" DECIMAL(10, 2) NOT NULL,
    "LENGTH" DECIMAL(10, 2) NOT NULL,
    "PRODUCTION_COST" DECIMAL(15, 2) NOT NULL,
    "SELLING_PRICE" DECIMAL(15, 2) NOT NULL
);               
ALTER TABLE "PUBLIC"."ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");         
-- 10 +/- SELECT COUNT(*) FROM PUBLIC.ITEM;   
INSERT INTO "PUBLIC"."ITEM"("ID", "CATEGORY_ID", "NAME", "WIDTH", "HEIGHT", "LENGTH", "PRODUCTION_COST", "SELLING_PRICE") OVERRIDING SYSTEM VALUE VALUES
(1, 1, 'Sarma', 15.00, 5.00, 25.00, 10.00, 20.00),
(2, 1, 'Gumeni bomboni', 10.00, 10.00, 10.00, 2.00, 10.00),
(3, 1, 'Pomfrit', 5.00, 5.00, 3.00, 4.00, 7.00),
(4, 2, 'Laptop Lenovo', 28.00, 2.00, 22.00, 2500.00, 5000.00),
(5, 2, 'Laptop Acer', 30.00, 1.50, 25.00, 4000.00, 60000.00),
(6, 3, 'The Way of Kings', 15.75, 23.16, 4.47, 65.00, 165.00),
(7, 3, 'Eye of the World', 15.25, 23.11, 3.56, 40.00, 99.00),
(8, 3, 'The Last Wish', 12.80, 19.60, 2.70, 39.00, 89.00),
(9, 3, 'Dune', 16.50, 22.90, 3.80, 150.00, 299.00),
(10, 3, 'Name of the Wind', 14.30, 20.00, 3.80, 59.00, 169.00);   
CREATE CACHED TABLE "PUBLIC"."ADDRESS"(
    "ID" BIGINT GENERATED ALWAYS AS IDENTITY(START WITH 1 RESTART WITH 33) NOT NULL,
    "STREET" CHARACTER VARYING(50) NOT NULL,
    "HOUSE_NUMBER" CHARACTER VARYING(10) NOT NULL,
    "CITY" CHARACTER VARYING(30) NOT NULL,
    "POSTAL_CODE" INTEGER NOT NULL
);           
ALTER TABLE "PUBLIC"."ADDRESS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("ID");      
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.ADDRESS; 
INSERT INTO "PUBLIC"."ADDRESS"("ID", "STREET", "HOUSE_NUMBER", "CITY", "POSTAL_CODE") OVERRIDING SYSTEM VALUE VALUES
(1, U&'Ante Star\010devi\0107a', '32', 'Koprivnica', 48000),
(2, 'Broadway', '120', 'New York', 10271),
(3, 'Vrbik', '8', 'Zagreb', 10000);           
CREATE CACHED TABLE "PUBLIC"."FACTORY"(
    "ID" BIGINT GENERATED ALWAYS AS IDENTITY(START WITH 1 RESTART WITH 65) NOT NULL,
    "NAME" CHARACTER VARYING(50) NOT NULL,
    "ADDRESS_ID" BIGINT NOT NULL
);               
ALTER TABLE "PUBLIC"."FACTORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E9" PRIMARY KEY("ID");     
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.FACTORY; 
INSERT INTO "PUBLIC"."FACTORY"("ID", "NAME", "ADDRESS_ID") OVERRIDING SYSTEM VALUE VALUES
(1, 'Podravka', 1),
(33, 'Tor Books', 2),
(34, 'Laptops & Food Inc.', 3);        
CREATE CACHED TABLE "PUBLIC"."FACTORY_ITEM"(
    "FACTORY_ID" BIGINT NOT NULL,
    "ITEM_ID" BIGINT NOT NULL
);            
ALTER TABLE "PUBLIC"."FACTORY_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("FACTORY_ID", "ITEM_ID");              
-- 12 +/- SELECT COUNT(*) FROM PUBLIC.FACTORY_ITEM;           
INSERT INTO "PUBLIC"."FACTORY_ITEM" VALUES
(1, 1),
(33, 6),
(33, 7),
(33, 8),
(33, 9),
(33, 10),
(1, 2),
(1, 3),
(34, 1),
(34, 2),
(34, 4),
(34, 5);              
CREATE CACHED TABLE "PUBLIC"."STORE"(
    "ID" BIGINT GENERATED ALWAYS AS IDENTITY(START WITH 1 RESTART WITH 33) NOT NULL,
    "NAME" CHARACTER VARYING(50) NOT NULL,
    "WEB_ADDRESS" CHARACTER VARYING(50) NOT NULL
); 
ALTER TABLE "PUBLIC"."STORE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");        
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.STORE;   
INSERT INTO "PUBLIC"."STORE"("ID", "NAME", "WEB_ADDRESS") OVERRIDING SYSTEM VALUE VALUES
(1, 'Kupi sve', 'www.kupi-sve.hr'),
(2, 'Book Depository', 'www.bookdepository.com'),
(3, 'Books and Tech', 'www.book-n-tech.com');               
CREATE CACHED TABLE "PUBLIC"."STORE_ITEM"(
    "STORE_ID" BIGINT NOT NULL,
    "ITEM_ID" BIGINT NOT NULL
);
ALTER TABLE "PUBLIC"."STORE_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("STORE_ID", "ITEM_ID");  
-- 19 +/- SELECT COUNT(*) FROM PUBLIC.STORE_ITEM;             
INSERT INTO "PUBLIC"."STORE_ITEM" VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5),
(1, 6),
(1, 7),
(1, 8),
(1, 9),
(1, 10),
(2, 6),
(2, 7),
(2, 8),
(2, 9),
(2, 10),
(3, 4),
(3, 5),
(3, 7),
(3, 10);        
ALTER TABLE "PUBLIC"."STORE_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_559" FOREIGN KEY("ITEM_ID") REFERENCES "PUBLIC"."ITEM"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_22" FOREIGN KEY("CATEGORY_ID") REFERENCES "PUBLIC"."CATEGORY"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."STORE_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_55" FOREIGN KEY("STORE_ID") REFERENCES "PUBLIC"."STORE"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."FACTORY_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1BC" FOREIGN KEY("ITEM_ID") REFERENCES "PUBLIC"."ITEM"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."FACTORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E9B" FOREIGN KEY("ADDRESS_ID") REFERENCES "PUBLIC"."ADDRESS"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."FACTORY_ITEM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1B" FOREIGN KEY("FACTORY_ID") REFERENCES "PUBLIC"."FACTORY"("ID") NOCHECK;            
